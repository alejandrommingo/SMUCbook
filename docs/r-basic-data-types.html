<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.6 R Basic Data types | Simulation and Modeling to Understand the Change</title>
  <meta name="description" content="These are lecture notes for the module Simulation and Modelling to Understand Change given in the School of Human Sciences and Technology at IE University, Madrid, Spain. The module is given in the 2nd semester of the 1st year of the bachelor in Data and Business Analytics. Knowledge of basic elements of R programming as well as probability and statistics is assumed." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2.6 R Basic Data types | Simulation and Modeling to Understand the Change" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/images/Rplot.png" />
  <meta property="og:description" content="These are lecture notes for the module Simulation and Modelling to Understand Change given in the School of Human Sciences and Technology at IE University, Madrid, Spain. The module is given in the 2nd semester of the 1st year of the bachelor in Data and Business Analytics. Knowledge of basic elements of R programming as well as probability and statistics is assumed." />
  <meta name="github-repo" content="alejandrommingo/SMUCbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.6 R Basic Data types | Simulation and Modeling to Understand the Change" />
  
  <meta name="twitter:description" content="These are lecture notes for the module Simulation and Modelling to Understand Change given in the School of Human Sciences and Technology at IE University, Madrid, Spain. The module is given in the 2nd semester of the 1st year of the bachelor in Data and Business Analytics. Knowledge of basic elements of R programming as well as probability and statistics is assumed." />
  <meta name="twitter:image" content="/images/Rplot.png" />

<meta name="author" content="Alejandro Martínez-Mingo &amp; Manuele Leonelli" />


<meta name="date" content="2022-01-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-as-a-calculator.html"/>
<link rel="next" href="r-basic-data-structures.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SMUC</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="what-is-simulation.html"><a href="what-is-simulation.html"><i class="fa fa-check"></i><b>1.1</b> What is simulation</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="what-is-simulation.html"><a href="what-is-simulation.html#a-simple-simulation-model"><i class="fa fa-check"></i><b>1.1.1</b> A simple simulation model</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-is-simulation.html"><a href="what-is-simulation.html#why-simulate"><i class="fa fa-check"></i><b>1.1.2</b> Why simulate?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="types-of-simulations.html"><a href="types-of-simulations.html"><i class="fa fa-check"></i><b>1.2</b> Types of simulations</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="types-of-simulations.html"><a href="types-of-simulations.html#stochastic-vs-deterministic-simulations"><i class="fa fa-check"></i><b>1.2.1</b> Stochastic vs deterministic simulations</a></li>
<li class="chapter" data-level="1.2.2" data-path="types-of-simulations.html"><a href="types-of-simulations.html#static-vs-dynamic-simulations"><i class="fa fa-check"></i><b>1.2.2</b> Static vs dynamic simulations</a></li>
<li class="chapter" data-level="1.2.3" data-path="types-of-simulations.html"><a href="types-of-simulations.html#discrete-vs-continuous-simulations"><i class="fa fa-check"></i><b>1.2.3</b> Discrete vs continuous simulations</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="elements-of-a-simulation-model.html"><a href="elements-of-a-simulation-model.html"><i class="fa fa-check"></i><b>1.3</b> Elements of a simulation model</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="elements-of-a-simulation-model.html"><a href="elements-of-a-simulation-model.html#objects-of-the-model"><i class="fa fa-check"></i><b>1.3.1</b> Objects of the model</a></li>
<li class="chapter" data-level="1.3.2" data-path="elements-of-a-simulation-model.html"><a href="elements-of-a-simulation-model.html#organization-of-entities-and-resources"><i class="fa fa-check"></i><b>1.3.2</b> Organization of entities and resources</a></li>
<li class="chapter" data-level="1.3.3" data-path="elements-of-a-simulation-model.html"><a href="elements-of-a-simulation-model.html#operations-of-the-objects"><i class="fa fa-check"></i><b>1.3.3</b> Operations of the objects</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="the-donut-shop-example.html"><a href="the-donut-shop-example.html"><i class="fa fa-check"></i><b>1.4</b> The donut shop example</a></li>
<li class="chapter" data-level="1.5" data-path="simulating-a-little-health-center.html"><a href="simulating-a-little-health-center.html"><i class="fa fa-check"></i><b>1.5</b> Simulating a little health center</a></li>
<li class="chapter" data-level="1.6" data-path="whats-next.html"><a href="whats-next.html"><i class="fa fa-check"></i><b>1.6</b> What’s next</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-programming.html"><a href="r-programming.html"><i class="fa fa-check"></i><b>2</b> R programming</a>
<ul>
<li class="chapter" data-level="2.1" data-path="why-r.html"><a href="why-r.html"><i class="fa fa-check"></i><b>2.1</b> Why R?</a></li>
<li class="chapter" data-level="2.2" data-path="section-bibliography.html"><a href="section-bibliography.html"><i class="fa fa-check"></i><b>2.2</b> Section Bibliography</a></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2.3</b> R basics</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-basics.html"><a href="r-basics.html#introduction-to-r"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to R</a></li>
<li class="chapter" data-level="2.3.2" data-path="r-basics.html"><a href="r-basics.html#r-history"><i class="fa fa-check"></i><b>2.3.2</b> R History</a></li>
<li class="chapter" data-level="2.3.3" data-path="r-basics.html"><a href="r-basics.html#r-advantages"><i class="fa fa-check"></i><b>2.3.3</b> R Advantages</a></li>
<li class="chapter" data-level="2.3.4" data-path="r-basics.html"><a href="r-basics.html#what-do-we-mean-by-r"><i class="fa fa-check"></i><b>2.3.4</b> What do we mean by R?</a></li>
<li class="chapter" data-level="2.3.5" data-path="r-basics.html"><a href="r-basics.html#console-mode"><i class="fa fa-check"></i><b>2.3.5</b> Console Mode</a></li>
<li class="chapter" data-level="2.3.6" data-path="r-basics.html"><a href="r-basics.html#getting-help-in-r"><i class="fa fa-check"></i><b>2.3.6</b> Getting help in R</a></li>
<li class="chapter" data-level="2.3.7" data-path="r-basics.html"><a href="r-basics.html#packages-in-r"><i class="fa fa-check"></i><b>2.3.7</b> Packages in R</a></li>
<li class="chapter" data-level="2.3.8" data-path="r-basics.html"><a href="r-basics.html#built-in-r-libraries"><i class="fa fa-check"></i><b>2.3.8</b> Built-in R libraries</a></li>
<li class="chapter" data-level="2.3.9" data-path="r-basics.html"><a href="r-basics.html#contents-of-packages"><i class="fa fa-check"></i><b>2.3.9</b> Contents of Packages</a></li>
<li class="chapter" data-level="2.3.10" data-path="r-basics.html"><a href="r-basics.html#installing-packages"><i class="fa fa-check"></i><b>2.3.10</b> Installing Packages</a></li>
<li class="chapter" data-level="2.3.11" data-path="r-basics.html"><a href="r-basics.html#command-line-versus-scripts"><i class="fa fa-check"></i><b>2.3.11</b> Command line versus scripts</a></li>
<li class="chapter" data-level="2.3.12" data-path="r-basics.html"><a href="r-basics.html#rstudio"><i class="fa fa-check"></i><b>2.3.12</b> RStudio</a></li>
<li class="chapter" data-level="2.3.13" data-path="r-basics.html"><a href="r-basics.html#working-directory"><i class="fa fa-check"></i><b>2.3.13</b> Working Directory</a></li>
<li class="chapter" data-level="2.3.14" data-path="r-basics.html"><a href="r-basics.html#exercise-set-up-your-working-directory"><i class="fa fa-check"></i><b>2.3.14</b> Exercise: Set up your Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="expressions-objects-and-symbols.html"><a href="expressions-objects-and-symbols.html"><i class="fa fa-check"></i><b>2.4</b> Expressions, Objects and Symbols</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="expressions-objects-and-symbols.html"><a href="expressions-objects-and-symbols.html#some-examples-to-start-with"><i class="fa fa-check"></i><b>2.4.1</b> Some examples to start with</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html"><i class="fa fa-check"></i><b>2.5</b> R as a Calculator</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#complex-numbers-in-r"><i class="fa fa-check"></i><b>2.5.1</b> Complex numbers in R</a></li>
<li class="chapter" data-level="2.5.2" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#rounding"><i class="fa fa-check"></i><b>2.5.2</b> Rounding</a></li>
<li class="chapter" data-level="2.5.3" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#arithmetics"><i class="fa fa-check"></i><b>2.5.3</b> Arithmetics</a></li>
<li class="chapter" data-level="2.5.4" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#modulo-and-integer-quotients"><i class="fa fa-check"></i><b>2.5.4</b> Modulo and integer quotients</a></li>
<li class="chapter" data-level="2.5.5" data-path="r-as-a-calculator.html"><a href="r-as-a-calculator.html#operators"><i class="fa fa-check"></i><b>2.5.5</b> Operators</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html"><i class="fa fa-check"></i><b>2.6</b> R Basic Data types</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#integers"><i class="fa fa-check"></i><b>2.6.1</b> Integers</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#integer-vs.-double"><i class="fa fa-check"></i><b>2.6.2</b> Integer vs. Double</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#logical-operators"><i class="fa fa-check"></i><b>2.6.3</b> Logical operators</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#real-numbers-equality"><i class="fa fa-check"></i><b>2.6.4</b> Real numbers equality</a></li>
<li class="chapter" data-level="2.6.5" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#logical-arithmetic"><i class="fa fa-check"></i><b>2.6.5</b> Logical arithmetic</a></li>
<li class="chapter" data-level="2.6.6" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#characters"><i class="fa fa-check"></i><b>2.6.6</b> Characters</a></li>
<li class="chapter" data-level="2.6.7" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#characters-letters-vectors"><i class="fa fa-check"></i><b>2.6.7</b> Characters: letters vectors</a></li>
<li class="chapter" data-level="2.6.8" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#characters-pasting-strings-together"><i class="fa fa-check"></i><b>2.6.8</b> Characters: Pasting strings together</a></li>
<li class="chapter" data-level="2.6.9" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#characters-extracting-parts-of-strings"><i class="fa fa-check"></i><b>2.6.9</b> Characters: Extracting parts of strings</a></li>
<li class="chapter" data-level="2.6.10" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#characters-counting-things-within-strings"><i class="fa fa-check"></i><b>2.6.10</b> Characters: Counting things within strings</a></li>
<li class="chapter" data-level="2.6.11" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#characters-upper--and-lower-case-text"><i class="fa fa-check"></i><b>2.6.11</b> Characters: Upper- and lower-case text</a></li>
<li class="chapter" data-level="2.6.12" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#dates-and-times"><i class="fa fa-check"></i><b>2.6.12</b> Dates and times</a></li>
<li class="chapter" data-level="2.6.13" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#dates-and-times-reading-time-data-from-files"><i class="fa fa-check"></i><b>2.6.13</b> Dates and times: Reading time data from files</a></li>
<li class="chapter" data-level="2.6.14" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#dates-and-times-the-strptime-function"><i class="fa fa-check"></i><b>2.6.14</b> Dates and times: The <code>strptime</code> function</a></li>
<li class="chapter" data-level="2.6.15" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#dates-and-times-summary"><i class="fa fa-check"></i><b>2.6.15</b> Dates and times: Summary</a></li>
<li class="chapter" data-level="2.6.16" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#testing-and-coercing"><i class="fa fa-check"></i><b>2.6.16</b> Testing and coercing</a></li>
<li class="chapter" data-level="2.6.17" data-path="r-basic-data-types.html"><a href="r-basic-data-types.html#missing-values-infinity-and-things-that-are-not-numbers"><i class="fa fa-check"></i><b>2.6.17</b> Missing values, infinity and things that are not numbers</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html"><i class="fa fa-check"></i><b>2.7</b> R Basic Data Structures</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#vectors"><i class="fa fa-check"></i><b>2.7.1</b> Vectors</a></li>
<li class="chapter" data-level="2.7.2" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#sequences"><i class="fa fa-check"></i><b>2.7.2</b> Sequences</a></li>
<li class="chapter" data-level="2.7.3" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#vector-and-subscripts"><i class="fa fa-check"></i><b>2.7.3</b> Vector and Subscripts</a></li>
<li class="chapter" data-level="2.7.4" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#vector-operations"><i class="fa fa-check"></i><b>2.7.4</b> Vector Operations</a></li>
<li class="chapter" data-level="2.7.5" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#vector-functions"><i class="fa fa-check"></i><b>2.7.5</b> Vector Functions</a></li>
<li class="chapter" data-level="2.7.6" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#sets"><i class="fa fa-check"></i><b>2.7.6</b> Sets</a></li>
<li class="chapter" data-level="2.7.7" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#factors"><i class="fa fa-check"></i><b>2.7.7</b> Factors</a></li>
<li class="chapter" data-level="2.7.8" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#matrices-and-arrays"><i class="fa fa-check"></i><b>2.7.8</b> Matrices and Arrays</a></li>
<li class="chapter" data-level="2.7.9" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#matrices"><i class="fa fa-check"></i><b>2.7.9</b> Matrices</a></li>
<li class="chapter" data-level="2.7.10" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#lists"><i class="fa fa-check"></i><b>2.7.10</b> Lists</a></li>
<li class="chapter" data-level="2.7.11" data-path="r-basic-data-structures.html"><a href="r-basic-data-structures.html#data-frames"><i class="fa fa-check"></i><b>2.7.11</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>2.8</b> Control Flow</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="control-flow.html"><a href="control-flow.html#conditional-statements"><i class="fa fa-check"></i><b>2.8.1</b> Conditional statements</a></li>
<li class="chapter" data-level="2.8.2" data-path="control-flow.html"><a href="control-flow.html#loops"><i class="fa fa-check"></i><b>2.8.2</b> Loops</a></li>
<li class="chapter" data-level="2.8.3" data-path="control-flow.html"><a href="control-flow.html#functions"><i class="fa fa-check"></i><b>2.8.3</b> Functions</a></li>
<li class="chapter" data-level="2.8.4" data-path="control-flow.html"><a href="control-flow.html#the-apply-family"><i class="fa fa-check"></i><b>2.8.4</b> The <code>apply</code> Family</a></li>
<li class="chapter" data-level="2.8.5" data-path="control-flow.html"><a href="control-flow.html#apply-family-examples"><i class="fa fa-check"></i><b>2.8.5</b> <code>apply</code> Family Examples</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="the-pipe-operator.html"><a href="the-pipe-operator.html"><i class="fa fa-check"></i><b>2.9</b> The pipe operator</a></li>
<li class="chapter" data-level="2.10" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>2.10</b> Plotting</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="probability-basics.html"><a href="probability-basics.html"><i class="fa fa-check"></i><b>3</b> Probability Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="set-theory.html"><a href="set-theory.html"><i class="fa fa-check"></i><b>3.1</b> Set theory</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="set-theory.html"><a href="set-theory.html#sample-spaces"><i class="fa fa-check"></i><b>3.1.1</b> Sample Spaces</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>3.2</b> Probability</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="probability.html"><a href="probability.html#independence"><i class="fa fa-check"></i><b>3.2.1</b> Independence</a></li>
<li class="chapter" data-level="3.2.2" data-path="probability.html"><a href="probability.html#conditional-probabilities"><i class="fa fa-check"></i><b>3.2.2</b> Conditional Probabilities</a></li>
<li class="chapter" data-level="3.2.3" data-path="probability.html"><a href="probability.html#conditional-probabilities-and-independence"><i class="fa fa-check"></i><b>3.2.3</b> Conditional Probabilities and Independence</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="random-variables.html"><a href="random-variables.html"><i class="fa fa-check"></i><b>3.3</b> Random Variables</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="random-variables.html"><a href="random-variables.html#distribution-functions"><i class="fa fa-check"></i><b>3.3.1</b> Distribution Functions</a></li>
<li class="chapter" data-level="3.3.2" data-path="random-variables.html"><a href="random-variables.html#random-variable-types"><i class="fa fa-check"></i><b>3.3.2</b> Random variable types</a></li>
<li class="chapter" data-level="3.3.3" data-path="random-variables.html"><a href="random-variables.html#discrete-random-variables"><i class="fa fa-check"></i><b>3.3.3</b> Discrete Random Variables</a></li>
<li class="chapter" data-level="3.3.4" data-path="random-variables.html"><a href="random-variables.html#continuous-random-variables"><i class="fa fa-check"></i><b>3.3.4</b> Continuous Random Variables</a></li>
<li class="chapter" data-level="3.3.5" data-path="random-variables.html"><a href="random-variables.html#expectation-of-a-random-variable"><i class="fa fa-check"></i><b>3.3.5</b> Expectation of a Random Variable</a></li>
<li class="chapter" data-level="3.3.6" data-path="random-variables.html"><a href="random-variables.html#variance-of-random-variables"><i class="fa fa-check"></i><b>3.3.6</b> Variance of Random Variables</a></li>
<li class="chapter" data-level="3.3.7" data-path="random-variables.html"><a href="random-variables.html#sample-mean-and-sample-variance"><i class="fa fa-check"></i><b>3.3.7</b> Sample Mean and Sample Variance</a></li>
<li class="chapter" data-level="3.3.8" data-path="random-variables.html"><a href="random-variables.html#covariance-between-random-variables"><i class="fa fa-check"></i><b>3.3.8</b> Covariance between Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="discrete-random-variables-1.html"><a href="discrete-random-variables-1.html"><i class="fa fa-check"></i><b>3.4</b> Discrete Random Variables</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="discrete-random-variables-1.html"><a href="discrete-random-variables-1.html#probability-mass-function"><i class="fa fa-check"></i><b>3.4.1</b> Probability Mass Function</a></li>
<li class="chapter" data-level="3.4.2" data-path="discrete-random-variables-1.html"><a href="discrete-random-variables-1.html#cumulative-distribution-function"><i class="fa fa-check"></i><b>3.4.2</b> Cumulative Distribution Function</a></li>
<li class="chapter" data-level="3.4.3" data-path="discrete-random-variables-1.html"><a href="discrete-random-variables-1.html#summaries"><i class="fa fa-check"></i><b>3.4.3</b> Summaries</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="notable-discrete-variables.html"><a href="notable-discrete-variables.html"><i class="fa fa-check"></i><b>3.5</b> Notable Discrete Variables</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="notable-discrete-variables.html"><a href="notable-discrete-variables.html#bernoulli-distribution"><i class="fa fa-check"></i><b>3.5.1</b> Bernoulli Distribution</a></li>
<li class="chapter" data-level="3.5.2" data-path="notable-discrete-variables.html"><a href="notable-discrete-variables.html#binomial-distribution"><i class="fa fa-check"></i><b>3.5.2</b> Binomial Distribution</a></li>
<li class="chapter" data-level="3.5.3" data-path="notable-discrete-variables.html"><a href="notable-discrete-variables.html#geometric-distribution"><i class="fa fa-check"></i><b>3.5.3</b> Geometric distribution</a></li>
<li class="chapter" data-level="3.5.4" data-path="notable-discrete-variables.html"><a href="notable-discrete-variables.html#poisson-distribution"><i class="fa fa-check"></i><b>3.5.4</b> Poisson Distribution</a></li>
<li class="chapter" data-level="3.5.5" data-path="notable-discrete-variables.html"><a href="notable-discrete-variables.html#some-examples"><i class="fa fa-check"></i><b>3.5.5</b> Some Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="continuous-random-variables-1.html"><a href="continuous-random-variables-1.html"><i class="fa fa-check"></i><b>3.6</b> Continuous Random Variables</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="continuous-random-variables-1.html"><a href="continuous-random-variables-1.html#probability-density-function"><i class="fa fa-check"></i><b>3.6.1</b> Probability Density Function</a></li>
<li class="chapter" data-level="3.6.2" data-path="continuous-random-variables-1.html"><a href="continuous-random-variables-1.html#cumulative-distribution-function-1"><i class="fa fa-check"></i><b>3.6.2</b> Cumulative Distribution Function</a></li>
<li class="chapter" data-level="3.6.3" data-path="continuous-random-variables-1.html"><a href="continuous-random-variables-1.html#summaries-1"><i class="fa fa-check"></i><b>3.6.3</b> Summaries</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="notable-continuous-distribution.html"><a href="notable-continuous-distribution.html"><i class="fa fa-check"></i><b>3.7</b> Notable Continuous Distribution</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="notable-continuous-distribution.html"><a href="notable-continuous-distribution.html#uniform-distribution"><i class="fa fa-check"></i><b>3.7.1</b> Uniform Distribution</a></li>
<li class="chapter" data-level="3.7.2" data-path="notable-continuous-distribution.html"><a href="notable-continuous-distribution.html#exponential-distribution"><i class="fa fa-check"></i><b>3.7.2</b> Exponential Distribution</a></li>
<li class="chapter" data-level="3.7.3" data-path="notable-continuous-distribution.html"><a href="notable-continuous-distribution.html#normal-distribution"><i class="fa fa-check"></i><b>3.7.3</b> Normal Distribution</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="the-central-limit-theorem.html"><a href="the-central-limit-theorem.html"><i class="fa fa-check"></i><b>3.8</b> The Central Limit Theorem</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="random-number-generation.html"><a href="random-number-generation.html"><i class="fa fa-check"></i><b>4</b> Random Number Generation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="properties-of-random-numbers.html"><a href="properties-of-random-numbers.html"><i class="fa fa-check"></i><b>4.1</b> Properties of Random Numbers</a></li>
<li class="chapter" data-level="4.2" data-path="pseudo-random-numbers.html"><a href="pseudo-random-numbers.html"><i class="fa fa-check"></i><b>4.2</b> Pseudo Random Numbers</a></li>
<li class="chapter" data-level="4.3" data-path="generating-pseudo-random-numbers.html"><a href="generating-pseudo-random-numbers.html"><i class="fa fa-check"></i><b>4.3</b> Generating Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="generating-pseudo-random-numbers.html"><a href="generating-pseudo-random-numbers.html#generating-pseudo-random-numbers-in-r"><i class="fa fa-check"></i><b>4.3.1</b> Generating Pseudo-Random Numbers in R</a></li>
<li class="chapter" data-level="4.3.2" data-path="generating-pseudo-random-numbers.html"><a href="generating-pseudo-random-numbers.html#linear-congruential-method"><i class="fa fa-check"></i><b>4.3.2</b> Linear Congruential Method</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="testing-randomness.html"><a href="testing-randomness.html"><i class="fa fa-check"></i><b>4.4</b> Testing Randomness</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="testing-randomness.html"><a href="testing-randomness.html#testing-uniformity"><i class="fa fa-check"></i><b>4.4.1</b> Testing Uniformity</a></li>
<li class="chapter" data-level="4.4.2" data-path="testing-randomness.html"><a href="testing-randomness.html#testing-independence"><i class="fa fa-check"></i><b>4.4.2</b> Testing Independence</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="random-variate-generation.html"><a href="random-variate-generation.html"><i class="fa fa-check"></i><b>4.5</b> Random Variate Generation</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="random-variate-generation.html"><a href="random-variate-generation.html#random-generation-in-r"><i class="fa fa-check"></i><b>4.5.1</b> Random Generation in R</a></li>
<li class="chapter" data-level="4.5.2" data-path="random-variate-generation.html"><a href="random-variate-generation.html#the-inverse-transform-method"><i class="fa fa-check"></i><b>4.5.2</b> The Inverse Transform Method</a></li>
<li class="chapter" data-level="4.5.3" data-path="random-variate-generation.html"><a href="random-variate-generation.html#simulating-bernoulli-and-binomial"><i class="fa fa-check"></i><b>4.5.3</b> Simulating Bernoulli and Binomial</a></li>
<li class="chapter" data-level="4.5.4" data-path="random-variate-generation.html"><a href="random-variate-generation.html#simulating-other-distributions"><i class="fa fa-check"></i><b>4.5.4</b> Simulating Other Distributions</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="testing-generic-simulation-sequences.html"><a href="testing-generic-simulation-sequences.html"><i class="fa fa-check"></i><b>4.6</b> Testing Generic Simulation Sequences</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="testing-generic-simulation-sequences.html"><a href="testing-generic-simulation-sequences.html#testing-distribution-fit"><i class="fa fa-check"></i><b>4.6.1</b> Testing Distribution Fit</a></li>
<li class="chapter" data-level="4.6.2" data-path="testing-generic-simulation-sequences.html"><a href="testing-generic-simulation-sequences.html#testing-independence-1"><i class="fa fa-check"></i><b>4.6.2</b> Testing Independence</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html"><i class="fa fa-check"></i><b>5</b> Monte Carlo Simulation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="what-does-monte-carlo-simulation-mean.html"><a href="what-does-monte-carlo-simulation-mean.html"><i class="fa fa-check"></i><b>5.1</b> What does Monte Carlo simulation mean?</a></li>
<li class="chapter" data-level="5.2" data-path="a-bit-of-history.html"><a href="a-bit-of-history.html"><i class="fa fa-check"></i><b>5.2</b> A bit of history</a></li>
<li class="chapter" data-level="5.3" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html"><i class="fa fa-check"></i><b>5.3</b> Steps of Monte Carlo simulation</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html#estimating-pi-step-1"><i class="fa fa-check"></i><b>5.3.1</b> Estimating <span class="math inline">\(\pi\)</span>: step 1</a></li>
<li class="chapter" data-level="5.3.2" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html#estimating-pi-step-2"><i class="fa fa-check"></i><b>5.3.2</b> Estimating <span class="math inline">\(\pi\)</span>: step 2</a></li>
<li class="chapter" data-level="5.3.3" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html#estimating-pi-step-3"><i class="fa fa-check"></i><b>5.3.3</b> Estimating <span class="math inline">\(\pi\)</span>: step 3</a></li>
<li class="chapter" data-level="5.3.4" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html#estimating-pi-step-4"><i class="fa fa-check"></i><b>5.3.4</b> Estimating <span class="math inline">\(\pi\)</span>: step 4</a></li>
<li class="chapter" data-level="5.3.5" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html#estimating-pi-step-5"><i class="fa fa-check"></i><b>5.3.5</b> Estimating <span class="math inline">\(\pi\)</span>: step 5</a></li>
<li class="chapter" data-level="5.3.6" data-path="steps-of-monte-carlo-simulation.html"><a href="steps-of-monte-carlo-simulation.html#estimating-pi-conclusions"><i class="fa fa-check"></i><b>5.3.6</b> Estimating <span class="math inline">\(\pi\)</span>: conclusions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="the-sample-function.html"><a href="the-sample-function.html"><i class="fa fa-check"></i><b>5.4</b> The <code>sample</code> function</a></li>
<li class="chapter" data-level="5.5" data-path="a-game-of-chance.html"><a href="a-game-of-chance.html"><i class="fa fa-check"></i><b>5.5</b> A game of chance</a></li>
<li class="chapter" data-level="5.6" data-path="takeaways.html"><a href="takeaways.html"><i class="fa fa-check"></i><b>5.6</b> Takeaways</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="monte-carlo-methods-for-inference.html"><a href="monte-carlo-methods-for-inference.html"><i class="fa fa-check"></i><b>6</b> Monte Carlo methods for inference</a>
<ul>
<li class="chapter" data-level="6.1" data-path="monte-carlo-for-estimation.html"><a href="monte-carlo-for-estimation.html"><i class="fa fa-check"></i><b>6.1</b> Monte Carlo for estimation</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="monte-carlo-for-estimation.html"><a href="monte-carlo-for-estimation.html#sam-and-annie-from-sleepless-in-seattle"><i class="fa fa-check"></i><b>6.1.1</b> Sam and Annie from ‘Sleepless in Seattle’</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="general-case-with-standard-normal-distributions.html"><a href="general-case-with-standard-normal-distributions.html"><i class="fa fa-check"></i><b>6.2</b> General Case with Standard Normal Distributions</a></li>
<li class="chapter" data-level="6.3" data-path="the-taxi-problem-comparing-estimators.html"><a href="the-taxi-problem-comparing-estimators.html"><i class="fa fa-check"></i><b>6.3</b> The taxi problem (comparing estimators)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="discrete-events-simulation-with-r.html"><a href="discrete-events-simulation-with-r.html"><i class="fa fa-check"></i><b>7</b> Discrete Events Simulation with R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="simmer-terminology.html"><a href="simmer-terminology.html"><i class="fa fa-check"></i><b>7.1</b> <code>simmer</code> terminology</a></li>
<li class="chapter" data-level="7.2" data-path="the-trajectory-object.html"><a href="the-trajectory-object.html"><i class="fa fa-check"></i><b>7.2</b> The Trajectory Object</a></li>
<li class="chapter" data-level="7.3" data-path="the-simulation-enviroment.html"><a href="the-simulation-enviroment.html"><i class="fa fa-check"></i><b>7.3</b> The Simulation Enviroment</a></li>
<li class="chapter" data-level="7.4" data-path="monitoring-and-data-retrieval.html"><a href="monitoring-and-data-retrieval.html"><i class="fa fa-check"></i><b>7.4</b> Monitoring and data retrieval</a></li>
<li class="chapter" data-level="7.5" data-path="simmer-example.html"><a href="simmer-example.html"><i class="fa fa-check"></i><b>7.5</b> <code>simmer</code> Example</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Simulation and Modeling to Understand the Change</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basic-data-types" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> R Basic Data types</h2>
<p>In the previous examples we worked with numbers, but variables could be assigned other types of information. There are four basic types:</p>
<ul>
<li><p><em>Integers</em>: integer numbers. If you type an integer in R, as before 3 or 4, it will usually be stored as a double unless explicitly defined;</p></li>
<li><p><em>Doubles</em>: real numbers;</p></li>
<li><p><em>Logicals</em> or <em>Booleans</em>: corresponding to <code>TRUE</code> and <code>FALSE</code>, also abbreviated as <code>T</code> and <code>F</code> respectively;</p></li>
<li><p><em>Characters</em>: strings of text surrounded by <code>"</code> (for example <code>"hi"</code>) or by <code>'</code> (for example ‘by’);</p></li>
<li><p><em>Dates</em>: date-time expressions in R.</p></li>
</ul>
<div id="integers" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Integers</h3>
<p>Integer vectors exist so that data can be passed to C or Fortran code which expects them, and so that small integer data can be represented exactly and compactly. The range of integers is from −2 000 000 000 to + 2 000 000 000 (<code>-2*10ˆ9 to +2*10ˆ9</code>, which R could portray as <code>-2e+09</code> to <code>2e+09</code>).</p>
<p>Be careful. Do not try to change the class of a vector by using the <code>integer</code> function. Here is a numeric vector of whole numbers that you want to convert into a vector of integers:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="r-basic-data-types.html#cb108-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb108-2"><a href="r-basic-data-types.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="r-basic-data-types.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(x)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>To coerce a numeric vector to be an integers vector we have to use the <code>as.integer</code> function like this:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="r-basic-data-types.html#cb112-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb112-2"><a href="r-basic-data-types.html#cb112-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">as.integer</span>(x)</span>
<span id="cb112-3"><a href="r-basic-data-types.html#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(x)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>The integer function works as trunc when applied to real numbers, and removes the imaginary part when
applied to complex numbers:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="r-basic-data-types.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(<span class="fl">5.7</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="r-basic-data-types.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(<span class="fl">5.7</span> <span class="sc">-</span>3i)</span></code></pre></div>
<pre><code>## Warning: imaginary parts discarded in coercion</code></pre>
<pre><code>## [1] 5</code></pre>
</div>
<div id="integer-vs.-double" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Integer vs. Double</h3>
<p>The two most common numeric classes used in R are integer and double (for double precision floating point numbers). R automatically converts between these two classes when needed for mathematical purposes. As a result, it’s feasible to use R and perform analyses for years without specifying these differences.</p>
<p>By default, when you create a numeric vector using the <code>c()</code> function it will produce a vector of double precision numeric values. To create a vector of integers using <code>c()</code> you must specify explicity by placing an L directly after each number.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="r-basic-data-types.html#cb119-1" aria-hidden="true" tabindex="-1"></a>dbl_var <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="fl">4.5</span>)</span>
<span id="cb119-2"><a href="r-basic-data-types.html#cb119-2" aria-hidden="true" tabindex="-1"></a>dbl_var</span></code></pre></div>
<pre><code>## [1] 1.0 2.5 4.5</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="r-basic-data-types.html#cb121-1" aria-hidden="true" tabindex="-1"></a>int_var <span class="ot">=</span> <span class="fu">c</span>(1L, 6L, 10L)</span>
<span id="cb121-2"><a href="r-basic-data-types.html#cb121-2" aria-hidden="true" tabindex="-1"></a>int_var</span></code></pre></div>
<pre><code>## [1]  1  6 10</code></pre>
<p>To check whether a vector is made up of integer or double values:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="r-basic-data-types.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(dbl_var)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="r-basic-data-types.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(int_var)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>By default, if you read in data that has no decimal points or you create numeric values using the <code>x = 1:10</code> method the numeric values will be coded as integer. If you want to change a double to an integer or vice versa you can specify one of the following:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="r-basic-data-types.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># integers to doubles</span></span>
<span id="cb127-2"><a href="r-basic-data-types.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.double</span>(int_var)</span></code></pre></div>
<pre><code>## [1]  1  6 10</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="r-basic-data-types.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># doubles to integers</span></span>
<span id="cb129-2"><a href="r-basic-data-types.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(dbl_var)</span></code></pre></div>
<pre><code>## [1] 1 2 4</code></pre>
</div>
<div id="logical-operators" class="section level3" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Logical operators</h3>
<p>A crucial part of computing involves asking questions about things. Is one thing bigger than other? Are two things the same size? Questions can be joined together using words like ‘and’ ‘or,’ ‘not.’ Questions in R typically evaluate to <code>TRUE</code> or <code>FALSE</code> but there is the option of a ‘maybe’ (when the answer is not available, <code>NA</code>). In R, &lt; means ‘less than,’ &gt; means ‘greater than,’ and ! means ‘not’ (see Table 2.2).</p>
<p align="center">
<img src="images/R-programming/2.2table.png" width="1050">
</p>
<p>You can use <code>T</code> for TRUE and <code>F</code> for FALSE, but you should be aware that <code>T</code> and <code>F</code> might have been allocated
as variables. So this is obvious:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="r-basic-data-types.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">==</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="r-basic-data-types.html#cb133-1" aria-hidden="true" tabindex="-1"></a>T <span class="sc">==</span> F</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>This, however, is not so obviours:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="r-basic-data-types.html#cb135-1" aria-hidden="true" tabindex="-1"></a>T <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb135-2"><a href="r-basic-data-types.html#cb135-2" aria-hidden="true" tabindex="-1"></a>T <span class="sc">==</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="r-basic-data-types.html#cb137-1" aria-hidden="true" tabindex="-1"></a>F <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb137-2"><a href="r-basic-data-types.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">==</span> F</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>But now, of course, <code>T</code> is not equal to <code>F</code>:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="r-basic-data-types.html#cb139-1" aria-hidden="true" tabindex="-1"></a>T <span class="sc">!=</span> F</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>To be sure, always write TRUE and FALSE in full, and never use T or F as variable names.</p>
<p>Maybe you noticed in the last code chunk that, in R, TRUE is coded as <code>1</code> and FALSE as <code>0</code>:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="r-basic-data-types.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">==</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="r-basic-data-types.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">==</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Let’s remove the T and F variables to avoid future errors:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="r-basic-data-types.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(T,F))</span></code></pre></div>
<pre><code>## Warning in rm(list = c(T, F)): object &#39;0&#39; not found</code></pre>
<pre><code>## Warning in rm(list = c(T, F)): object &#39;1&#39; not found</code></pre>
</div>
<div id="real-numbers-equality" class="section level3" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Real numbers equality</h3>
<p>You need to be careful in programming when you want to test whether or not two computed numbers are equal. R will assume that you mean ‘exactly equal,’ and what that means depends upon machine precision. Most numbers are rounded to an accuracy of 53 binary digits.</p>
<p>Typically therefore, two floating point numbers will not reliably be equal unless they were computed by the same algorithm, and not always even then. You can see this by squaring the square root of 2: surely these values are the same?</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="r-basic-data-types.html#cb148-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="dv">2</span>)</span>
<span id="cb148-2"><a href="r-basic-data-types.html#cb148-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> x <span class="sc">==</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>In fact, they are not the same. We can see by how much the two values differ by subtraction:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="r-basic-data-types.html#cb150-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> x <span class="sc">-</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4.440892e-16</code></pre>
<p>So how do we test for equality of real numbers? The best advice is not to do it. Try instead to use the alternatives ‘less than’ with ‘greater than or equal to,’ or conversely ‘greater than’ with ‘less than or equal to.’ Then you will not go wrong. Sometimes, however, you really do want to test for equality. In those circumstances, do not use double equals to test for equality, but employ the <code>all.equal</code> function instead.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="r-basic-data-types.html#cb152-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fl">0.3</span> <span class="sc">-</span> <span class="fl">0.2</span></span>
<span id="cb152-2"><a href="r-basic-data-types.html#cb152-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> <span class="fl">0.1</span></span>
<span id="cb152-3"><a href="r-basic-data-types.html#cb152-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> y</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="r-basic-data-types.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(x,y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>WARNING: Do not use <code>all.equal</code> directly in <code>if</code> expressions. Either use <code>isTRUE(all.equal( ....))</code></p>
</div>
<div id="logical-arithmetic" class="section level3" number="2.6.5">
<h3><span class="header-section-number">2.6.5</span> Logical arithmetic</h3>
<p>Arithmetic involving logical expressions is very useful in programming and in selection of variables. The key thing to understand is that logical expressions evaluate to either true or false (represented in R by <code>TRUE</code> or <code>FALSE</code>), and that R can coerce <code>TRUE</code> or <code>FALSE</code> into numerical values: 1 for <code>TRUE</code> and 0 for <code>FALSE</code>. Suppose that x is a sequence from 0 to 6 like this:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="r-basic-data-types.html#cb156-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">6</span></span></code></pre></div>
<p>Now we can ask questions about the contents of the vector called x. Is x less than 4?</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="r-basic-data-types.html#cb157-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<p>The answer is yes for the first four values (0, 1, 2 and 3) and no for the last three (4, 5 and 6).</p>
<p>Two important logical functions are <code>all</code> and <code>any</code>. They check an entire vector but return a single logical value: <code>TRUE</code> or <code>FALSE</code>. Are all the x values bigger than 0?</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="r-basic-data-types.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(x<span class="sc">&gt;</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>No. The first x value is a zero. Are any of the x values negative?</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="r-basic-data-types.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(x<span class="sc">&lt;</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>No. The smallest x value is a zero.</p>
<p>We can use the answers of logical functions in arithmetic. We can count the true values of (<code>x&lt;4</code>), using <code>sum</code>:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="r-basic-data-types.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x<span class="sc">&lt;</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>We can multiply (x&lt;4) by other vectors:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="r-basic-data-types.html#cb165-1" aria-hidden="true" tabindex="-1"></a>(x<span class="sc">&lt;</span><span class="dv">4</span>) <span class="sc">*</span> <span class="fu">runif</span>(<span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] 0.3638331 0.9908843 0.4828548 0.2473120 0.0000000 0.0000000 0.0000000</code></pre>
</div>
<div id="characters" class="section level3" number="2.6.6">
<h3><span class="header-section-number">2.6.6</span> Characters</h3>
<p>In R, character strings are defined by double quotation marks:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="r-basic-data-types.html#cb167-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="st">&quot;abc&quot;</span></span>
<span id="cb167-2"><a href="r-basic-data-types.html#cb167-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">=</span> <span class="st">&quot;123&quot;</span></span></code></pre></div>
<p>Numbers can be coerced to characters (as in b above), but non-numeric characters cannot be coerced to
numbers:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="r-basic-data-types.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(a)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="r-basic-data-types.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(b)</span></code></pre></div>
<pre><code>## [1] 123</code></pre>
<p>One of the initially confusing things about character strings is the distinction between the length of a character object (a vector), and the numbers of characters (nchar) in the strings that comprise that object.
An example should make the distinction clear:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="r-basic-data-types.html#cb173-1" aria-hidden="true" tabindex="-1"></a>pets <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;cat&quot;</span>,<span class="st">&quot;dog&quot;</span>,<span class="st">&quot;gerbil&quot;</span>,<span class="st">&quot;terrapin&quot;</span>)</span></code></pre></div>
<p>Here, <code>pets</code> is a vector comprising four character strings:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="r-basic-data-types.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(pets)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>and the individual character strings have 3, 3, 6 and 8 characters, respectively:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="r-basic-data-types.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(pets)</span></code></pre></div>
<pre><code>## [1] 3 3 6 8</code></pre>
<p>When first defined, character strings are not factors:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="r-basic-data-types.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(pets)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="r-basic-data-types.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(pets)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>We have to coerce this variable to convert it into a factor</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="r-basic-data-types.html#cb182-1" aria-hidden="true" tabindex="-1"></a>pets <span class="ot">=</span> <span class="fu">as.factor</span>(pets)</span>
<span id="cb182-2"><a href="r-basic-data-types.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(pets)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="characters-letters-vectors" class="section level3" number="2.6.7">
<h3><span class="header-section-number">2.6.7</span> Characters: letters vectors</h3>
<p>There are built-in vectors in R that contain the 26 letters of the alphabet in lower case (letters) and in upper
case (LETTERS):</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="r-basic-data-types.html#cb184-1" aria-hidden="true" tabindex="-1"></a>letters</span></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="r-basic-data-types.html#cb186-1" aria-hidden="true" tabindex="-1"></a>LETTERS</span></code></pre></div>
<pre><code>##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot; &quot;S&quot;
## [20] &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</code></pre>
<p>To discover which number in the alphabet the letter <code>n</code> is, you can use the <code>which</code> function like this:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="r-basic-data-types.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(letters <span class="sc">==</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<p>For the purposes of printing you might want to suppress the quotes that appear around character strings by default. The function to do this is called noquote:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="r-basic-data-types.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">noquote</span>(letters)</span></code></pre></div>
<pre><code>##  [1] a b c d e f g h i j k l m n o p q r s t u v w x y z</code></pre>
</div>
<div id="characters-pasting-strings-together" class="section level3" number="2.6.8">
<h3><span class="header-section-number">2.6.8</span> Characters: Pasting strings together</h3>
<p>You can amalgamate individual strings into vectors of character information:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="r-basic-data-types.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(a,b)</span></code></pre></div>
<pre><code>## [1] &quot;abc&quot; &quot;123&quot;</code></pre>
<p>This shows that the concatenation produces a vector of two strings. It does not convert two 3-character strings into one 6-character string. The R function to do that is <code>paste</code>:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="r-basic-data-types.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(a,b,<span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;abc123&quot;</code></pre>
<p>The third argument, <code>sep=""</code>, means that the two character strings are to be pasted together without any separator between them: the default for <code>paste</code> is to insert a single blank space, like this:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="r-basic-data-types.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(a,b)</span></code></pre></div>
<pre><code>## [1] &quot;abc 123&quot;</code></pre>
<p>Notice that you do not lose blanks that are within character strings when you use the <code>sep=""</code> option in
<code>paste</code>.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="r-basic-data-types.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(a,b,<span class="st">&quot; a longer phrase containing blanks&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;abc123 a longer phrase containing blanks&quot;</code></pre>
<p>If one of the arguments to <code>paste</code> is a vector, each of the elements of the vector is pasted to the specified character string to produce an object of the same length as the vector:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="r-basic-data-types.html#cb200-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">=</span> <span class="fu">c</span>(a,b,<span class="st">&quot;new&quot;</span>)</span>
<span id="cb200-2"><a href="r-basic-data-types.html#cb200-2" aria-hidden="true" tabindex="-1"></a>e <span class="ot">=</span> <span class="fu">paste</span>(d, <span class="st">&quot;a longer phrase containing blanks&quot;</span>)</span>
<span id="cb200-3"><a href="r-basic-data-types.html#cb200-3" aria-hidden="true" tabindex="-1"></a>e</span></code></pre></div>
<pre><code>## [1] &quot;abc a longer phrase containing blanks&quot;
## [2] &quot;123 a longer phrase containing blanks&quot;
## [3] &quot;new a longer phrase containing blanks&quot;</code></pre>
</div>
<div id="characters-extracting-parts-of-strings" class="section level3" number="2.6.9">
<h3><span class="header-section-number">2.6.9</span> Characters: Extracting parts of strings</h3>
<p>We being by defining a phrase:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="r-basic-data-types.html#cb202-1" aria-hidden="true" tabindex="-1"></a>phrase <span class="ot">=</span> <span class="st">&quot;the quick brown fox jumps over the lazy dog&quot;</span></span></code></pre></div>
<p>The function called <code>substr</code> is used to extract substrings of a specified number of characters from within a character string. In the next example we are extracting the first 20 characters from <code>phrase</code> object:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="r-basic-data-types.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(phrase, <span class="dv">1</span>, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] &quot;the quick brown fox &quot;</code></pre>
<p>The second argument in <code>substr</code> is the number of the character at which extraction is to begin (in this case the first), and the third argument is the number of the character at which extraction is to end (in this case, the 20th).</p>
</div>
<div id="characters-counting-things-within-strings" class="section level3" number="2.6.10">
<h3><span class="header-section-number">2.6.10</span> Characters: Counting things within strings</h3>
<p>Counting the total number of characters in a string could not be simpler; just use the <code>nchar</code> function directly, like this:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="r-basic-data-types.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(phrase)</span></code></pre></div>
<pre><code>## [1] 43</code></pre>
<p>So there are 43 characters including the blanks between the words. To count the numbers of separate individual characters (including blanks) you need to split up the character string into individual characters (43 of them), using <code>strsplit</code> like this:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="r-basic-data-types.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(phrase, <span class="at">split =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;t&quot; &quot;h&quot; &quot;e&quot; &quot; &quot; &quot;q&quot; &quot;u&quot; &quot;i&quot; &quot;c&quot; &quot;k&quot; &quot; &quot; &quot;b&quot; &quot;r&quot; &quot;o&quot; &quot;w&quot; &quot;n&quot; &quot; &quot; &quot;f&quot; &quot;o&quot; &quot;x&quot;
## [20] &quot; &quot; &quot;j&quot; &quot;u&quot; &quot;m&quot; &quot;p&quot; &quot;s&quot; &quot; &quot; &quot;o&quot; &quot;v&quot; &quot;e&quot; &quot;r&quot; &quot; &quot; &quot;t&quot; &quot;h&quot; &quot;e&quot; &quot; &quot; &quot;l&quot; &quot;a&quot; &quot;z&quot;
## [39] &quot;y&quot; &quot; &quot; &quot;d&quot; &quot;o&quot; &quot;g&quot;</code></pre>
<p>The <code>split = ""</code> argument is for determine the character we are going to use to split the entire object. If we use a blank space instead we can separate the string in all the different words:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="r-basic-data-types.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(phrase, <span class="at">split =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;the&quot;   &quot;quick&quot; &quot;brown&quot; &quot;fox&quot;   &quot;jumps&quot; &quot;over&quot;  &quot;the&quot;   &quot;lazy&quot;  &quot;dog&quot;</code></pre>
<p>The table function can then be used for counting the number of occurrences of each of the characters:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="r-basic-data-types.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">strsplit</span>(phrase, <span class="at">split =</span> <span class="st">&quot;&quot;</span>))</span></code></pre></div>
<pre><code>## 
##   a b c d e f g h i j k l m n o p q r s t u v w x y z 
## 8 1 1 1 1 3 1 1 2 1 1 1 1 1 1 4 1 1 2 1 2 2 1 1 1 1 1</code></pre>
<p>This demonstrates that all of the letters of the alphabet were used at least once within our phrase, and that there were eight blanks within the string called phrase. This suggests a way of counting the number of words in a phrase, given that this will always be one more than the number of blanks (so long as there are no leading or trailing blanks in the string):</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="r-basic-data-types.html#cb213-1" aria-hidden="true" tabindex="-1"></a>nwords <span class="ot">=</span> <span class="dv">1</span><span class="sc">+</span><span class="fu">table</span>(<span class="fu">strsplit</span>(phrase, <span class="at">split =</span> <span class="st">&quot;&quot;</span>))[<span class="dv">1</span>]</span>
<span id="cb213-2"><a href="r-basic-data-types.html#cb213-2" aria-hidden="true" tabindex="-1"></a>nwords</span></code></pre></div>
<pre><code>##   
## 9</code></pre>
<p>Another solution is to <code>sum</code> all the elements in the table splitting the phrase with a blank space:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="r-basic-data-types.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">table</span>(<span class="fu">strsplit</span>(phrase, <span class="at">split =</span> <span class="st">&quot; &quot;</span>)))</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
</div>
<div id="characters-upper--and-lower-case-text" class="section level3" number="2.6.11">
<h3><span class="header-section-number">2.6.11</span> Characters: Upper- and lower-case text</h3>
<p>It is easy to switch between upper and lower cases using the <code>toupper</code> and <code>tolower</code> functions:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="r-basic-data-types.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(phrase)</span></code></pre></div>
<pre><code>## [1] &quot;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&quot;</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="r-basic-data-types.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(<span class="fu">toupper</span>(phrase))</span></code></pre></div>
<pre><code>## [1] &quot;the quick brown fox jumps over the lazy dog&quot;</code></pre>
</div>
<div id="dates-and-times" class="section level3" number="2.6.12">
<h3><span class="header-section-number">2.6.12</span> Dates and times</h3>
<p>The measurement of time is highly idiosyncratic. Successive years start on different days of the week. There are months with different numbers of days. Leap years have an extra day in February. Americans and Britons put the day and the month in different places: 3/4/2006 is March 4 for the former and April 3 for the latter.</p>
<p>All these things mean that working with dates and times is extremely complicated. Fortunately, R has a robust system for dealing with this complexity.</p>
<p>To see how R handles dates and times, have a look at Sys.time():</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="r-basic-data-types.html#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.time</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2022-01-28 12:52:55 CET&quot;</code></pre>
<p>This description of date and time is strictly hierarchical from left to right: the longest time scale (years) comes first, then month, then day, separated by hyphens, then there is a blank space, followed by the time, with hours first (using the 24-hour clock), then minutes, then seconds, separated by colons. Finally, there is a character string explaining the time zone (CET stands for Central Europe Time)</p>
<p>This representation of the date and time as a character string is user-friendly and familiar, but it is no good for calculations. For that, we need a single numeric representation of the combined date and time. The convention in R is to base this on seconds (the smallest time scale that is accommodated in Sys.time)</p>
<p>The baseline for expressing today’s date and time in seconds is 1 January 1970:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="r-basic-data-types.html#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">Sys.time</span>())</span></code></pre></div>
<pre><code>## [1] 1643370775</code></pre>
<p>This is fine for plotting time series graphs, but it is not much good for computing monthly means (e.g. is the mean for June significantly different from the July mean?) or daily means (e.g. is the Monday mean significantly different from the Friday mean?).</p>
<p>To answer questions like these we have to be able to access a broad set of categorical variables associated with the date: the year, the month, the day of the week, and so forth. To accommodate this, R uses the POSIX system for representing times and dates:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="r-basic-data-types.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">Sys.time</span>())</span></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<p>You can think of the class <code>POSIXct</code>, with suffix ‘ct,’ as continuous time (i.e. a number of seconds), and
<code>POSIXlt</code>, with suffix ‘lt,’ as list time (i.e. a list of all the various categorical descriptions of the time,
including day of the week and so forth). It is hard to remember these acronyms, but it is well worth making
the effort. Naturally, you can easily convert to one representation to the other:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="r-basic-data-types.html#cb227-1" aria-hidden="true" tabindex="-1"></a>time.list <span class="ot">=</span> <span class="fu">as.POSIXlt</span>(<span class="fu">Sys.time</span>())</span>
<span id="cb227-2"><a href="r-basic-data-types.html#cb227-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(time.list)</span></code></pre></div>
<pre><code>##                sec                min               hour               mday 
## &quot;55.2355105876923&quot;               &quot;52&quot;               &quot;12&quot;               &quot;28&quot; 
##                mon               year               wday               yday 
##                &quot;0&quot;              &quot;122&quot;                &quot;5&quot;               &quot;27&quot; 
##              isdst               zone             gmtoff 
##                &quot;0&quot;              &quot;CET&quot;             &quot;3600&quot;</code></pre>
<p>Here you see the nine components of the list. The time is represented by the number of seconds (<code>sec</code>), minutes (<code>min</code>) and hours (on the 24-hour clock). Next comes the day of the month (<code>mday</code>, starting from 1), then the month of the year (mon, starting at January = 0), then the year (starting at 0 = 1900). The day of the week (<code>wday</code>) is coded from Sunday = 0 to Saturday = 6. The day within the year (<code>yday</code>) is coded from 0 = January 1. Finally, there is a logical variable <code>isdst</code> which asks whether daylight saving time is in operation (0 = FALSE in this case). The ones you are most likely to use include <code>year</code> (to get yearly mean values), <code>mon</code> (to get monthly means) and <code>wday</code> (to get means for the different days of the week).</p>
</div>
<div id="dates-and-times-reading-time-data-from-files" class="section level3" number="2.6.13">
<h3><span class="header-section-number">2.6.13</span> Dates and times: Reading time data from files</h3>
<p>It is most likely that your data files contain dates in Excel format, for example 03/09/2014 (a character string showing month/day/year separated by slashes).</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="r-basic-data-types.html#cb229-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;Data/boulder-precip.csv&quot;</span>)</span>
<span id="cb229-2"><a href="r-basic-data-types.html#cb229-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(df)</span>
<span id="cb229-3"><a href="r-basic-data-types.html#cb229-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>##    ID    DATE PRECIP TEMP
## 1 756 8/21/13    0.1   55
## 2 757 8/26/13    0.1   25
## 3 758 8/27/13    0.1   NA
## 4 759  9/1/13    0.0 -999
## 5 760  9/9/13    0.1   15
## 6 761 9/10/13    1.0   25</code></pre>
<p>To convert a factor or a character string into a POSIXlt object, we employ an important function called ‘strip time,’ written <code>strptime</code>.</p>
</div>
<div id="dates-and-times-the-strptime-function" class="section level3" number="2.6.14">
<h3><span class="header-section-number">2.6.14</span> Dates and times: The <code>strptime</code> function</h3>
<p>To convert a factor or a character string into dates using the strptime function, we provide a format statement enclosed in double quotes to tell R exactly what to expect, in what order, and separated by what kind of symbol. For our present example we have day (as two digits), then slash, then month (as two digits), then slash, then year (without the century, making two digits).</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="r-basic-data-types.html#cb231-1" aria-hidden="true" tabindex="-1"></a>Rdate <span class="ot">=</span> <span class="fu">strptime</span>(DATE, <span class="st">&quot;%m/%d/%y&quot;</span>)</span>
<span id="cb231-2"><a href="r-basic-data-types.html#cb231-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(Rdate)</span></code></pre></div>
<pre><code>## [1] &quot;POSIXlt&quot; &quot;POSIXt&quot;</code></pre>
<p>It is always a good idea at this stage to add the R-formatted date to your dataframe:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="r-basic-data-types.html#cb233-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> <span class="fu">data.frame</span>(df, Rdate)</span>
<span id="cb233-2"><a href="r-basic-data-types.html#cb233-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>##    ID    DATE PRECIP TEMP      Rdate
## 1 756 8/21/13    0.1   55 2013-08-21
## 2 757 8/26/13    0.1   25 2013-08-26
## 3 758 8/27/13    0.1   NA 2013-08-27
## 4 759  9/1/13    0.0 -999 2013-09-01
## 5 760  9/9/13    0.1   15 2013-09-09
## 6 761 9/10/13    1.0   25 2013-09-10</code></pre>
<p>Now, at last, we can do things with the date information. We might want the mean value of <code>PRECIP</code> for each day of the week. The name of this object is Rdate$wday:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="r-basic-data-types.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(PRECIP,Rdate<span class="sc">$</span>wday,mean)</span></code></pre></div>
<pre><code>##         0         1         2         3         4         5         6 
## 0.5000000 0.2250000 0.3666667 1.2000000 9.8000000 0.8000000 0.1000000</code></pre>
<p>It is hard to remember all the format codes for strip time, but they are roughly mnemonic and they are always preceded by a percent symbol. Here is the full list of format components:</p>
<ul>
<li><code>%a</code>: Abbreviated weekday name</li>
<li><code>%A</code>: Full weekday name</li>
<li><code>%b</code>: Abbreviated month name</li>
<li><code>%B</code>: Full month name</li>
<li><code>%c</code>: Date and time, locale-specific</li>
<li><code>%d</code>: Day of the month as decimal number (01–31)</li>
<li><code>%H</code>: Hours as decimal number (00–23) on the 24-hour clock</li>
<li><code>%I</code>: Hours as decimal number (01–12) on the 12-hour clock</li>
<li><code>%j</code>: Day of year as decimal number (0–366)</li>
<li><code>%m</code>: Month as decimal number (0–11)</li>
<li><code>%M</code>: Minute as decimal number (00–59)</li>
<li><code>%p</code>: AM/PM indicator in the locale</li>
<li><code>%S</code>: Second as decimal number (00–61, allowing for two ‘leap seconds’)</li>
<li><code>%U</code>: Week of the year (00–53) using the first Sunday as day 1 of week 1</li>
<li><code>%w</code>: Weekday as decimal number (0–6, Sunday is 0)</li>
<li><code>%W</code>: Week of the year (00–53) using the first Monday as day 1 of week 1</li>
<li><code>%x</code>: Date, locale-specific</li>
<li><code>%X</code>: Time, locale-specific</li>
<li><code>%Y</code>: Year with century</li>
<li><code>%y</code>: Year without century</li>
<li><code>%Z</code>: Time zone as a character string (output only)</li>
</ul>
<p>There is a useful function called weekdays (note the plural) for turning the day number into the appropriate name:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="r-basic-data-types.html#cb237-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">strptime</span>(<span class="st">&quot;01/02/2020&quot;</span>, <span class="at">format=</span><span class="st">&quot;%d/%m/%Y&quot;</span>)</span>
<span id="cb237-2"><a href="r-basic-data-types.html#cb237-2" aria-hidden="true" tabindex="-1"></a><span class="fu">weekdays</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;Saturday&quot;</code></pre>
<p>which is converted from:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="r-basic-data-types.html#cb239-1" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>wday</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>because the days of the week are numbered from Sunday = 0.</p>
<p>Here is another kind of date, with years in two-digit form (<code>%y</code>), and the months as abbreviated names (<code>%b</code>) using no separators:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="r-basic-data-types.html#cb241-1" aria-hidden="true" tabindex="-1"></a>other.dates <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;1jan99&quot;</span>, <span class="st">&quot;2jan05&quot;</span>, <span class="st">&quot;31mar04&quot;</span>, <span class="st">&quot;30jul05&quot;</span>)</span>
<span id="cb241-2"><a href="r-basic-data-types.html#cb241-2" aria-hidden="true" tabindex="-1"></a><span class="fu">strptime</span>(other.dates, <span class="st">&quot;%d%b%y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1999-01-01 CET&quot;  &quot;2005-01-02 CET&quot;  &quot;2004-03-31 CEST&quot; &quot;2005-07-30 CEST&quot;</code></pre>
<p>Here is yet another possibility with year, then month in full, then week of the year, then day of the week abbreviated, all separated by a single blank space:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="r-basic-data-types.html#cb243-1" aria-hidden="true" tabindex="-1"></a>yet.another.date <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;2016 January 2 Mon&quot;</span>,<span class="st">&quot;2017 February 6 Fri&quot;</span>,<span class="st">&quot;2018 March 10 Tue&quot;</span>)</span>
<span id="cb243-2"><a href="r-basic-data-types.html#cb243-2" aria-hidden="true" tabindex="-1"></a><span class="fu">strptime</span>(yet.another.date,<span class="st">&quot;%Y %B %W %a&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2016-01-11 CET&quot; &quot;2017-02-10 CET&quot; &quot;2018-03-06 CET&quot;</code></pre>
</div>
<div id="dates-and-times-summary" class="section level3" number="2.6.15">
<h3><span class="header-section-number">2.6.15</span> Dates and times: Summary</h3>
<p>The key thing to understand is the difference between the two representations of dates and times in R. They have unfortunately non-memorable names.</p>
<ul>
<li>POSIXlt gives a list containing separate vectors for the year, month, day of the week, day within the year, and suchlike. It is very useful as a categorical explanatory variable (e.g. to get monthly means from data gathered over many years using date$mon).</li>
<li>POSIXct gives a vector containing the date and time expressed as a continuous variable that you can use in regression models (it is the number of seconds since the beginning of 1970).</li>
</ul>
</div>
<div id="testing-and-coercing" class="section level3" number="2.6.16">
<h3><span class="header-section-number">2.6.16</span> Testing and coercing</h3>
<p>The concepts of membership and coercion may be unfamiliar. Membership relates to the class of an object in R. Coercion changes the class of an object. For instance, a logical variable has class <code>logical</code> and mode logical. This is how we create the variable:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="r-basic-data-types.html#cb245-1" aria-hidden="true" tabindex="-1"></a>lv <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>)</span></code></pre></div>
<p>We can assess its membership by asking if it is a logical variable using the <code>is.logical</code> function:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="r-basic-data-types.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(lv)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>It is not a factor, and so it does not have levels:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="r-basic-data-types.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(lv)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>But we can coerce it be a two-level factor like this:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="r-basic-data-types.html#cb250-1" aria-hidden="true" tabindex="-1"></a>fv <span class="ot">=</span> <span class="fu">as.factor</span>(lv)</span>
<span id="cb250-2"><a href="r-basic-data-types.html#cb250-2" aria-hidden="true" tabindex="-1"></a>fv</span></code></pre></div>
<pre><code>## [1] TRUE  FALSE TRUE 
## Levels: FALSE TRUE</code></pre>
<p>We can coerce a logical variable to be numeric: <code>TRUE</code> evaluates to 1 and <code>FALSE</code> evaluates to zero, like this:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="r-basic-data-types.html#cb252-1" aria-hidden="true" tabindex="-1"></a>nv <span class="ot">=</span> <span class="fu">as.numeric</span>(lv)</span>
<span id="cb252-2"><a href="r-basic-data-types.html#cb252-2" aria-hidden="true" tabindex="-1"></a>nv</span></code></pre></div>
<pre><code>## [1] 1 0 1</code></pre>
<p>In general, the expression <code>as(object, value)</code> is the way to coerce an object to a particular class. Membership functions ask <code>is.something</code> and coercion functions say <code>as.something</code>.</p>
<p>Objects have a type, and you can test the type of an object using an is.type function (Table 2.3). For instance, mathematical functions expect numeric input and text-processing functions expect character input. Some types of objects can be coerced into other types. A familiar type of coercion occurs when we interpret the TRUE and FALSE of logical variables as numeric 1 and 0, respectively. Factor levels can be coerced to numbers. Numbers can be coerced into characters, but non-numeric characters cannot be coerced into numbers.</p>
<p align="center">
<img src="images/R-programming/2.3table.png" width="1050">
</p>
</div>
<div id="missing-values-infinity-and-things-that-are-not-numbers" class="section level3" number="2.6.17">
<h3><span class="header-section-number">2.6.17</span> Missing values, infinity and things that are not numbers</h3>
<p>Calculations can lead to answers that are plus infinity, represented in R by <code>Inf</code>, or minus infinity, which is represented as <code>-Inf</code>:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="r-basic-data-types.html#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">/</span><span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="r-basic-data-types.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="dv">12</span><span class="sc">/</span><span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] -Inf</code></pre>
<p>Calculations involving infinity can be evaluated: for instance,</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="r-basic-data-types.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="sc">-</span><span class="cn">Inf</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="r-basic-data-types.html#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span><span class="sc">/</span><span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Other calculations, however, lead to quantities that are not numbers. These are represented in R by NaN (‘not a number’). Here are some of the classic cases:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="r-basic-data-types.html#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span><span class="sc">/</span><span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="r-basic-data-types.html#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="cn">Inf</span><span class="sc">-</span><span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="r-basic-data-types.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="cn">Inf</span><span class="sc">/</span><span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<p>You need to understand clearly the distinction between <code>NaN</code> and <code>NA</code> (this stands for ‘not available’ and is the missing-value symbol in R).</p>
<p>The function <code>is.nan</code> is provided to check specifically for <code>NaN</code>, and <code>is.na</code> also returns <code>TRUE</code> for <code>NaN</code>. Coercing <code>NaN</code> to logical or integer type gives an <code>NA</code> of the appropriate type. There are built-in tests to check whether a number is finite or infinite:</p>
<p>Missing values in dataframes are a real source of irritation, because they affect the way that model-fitting functions operate and they can greatly reduce the power of the modelling that we would like to do.</p>
<p>You may want to discover which values in a vector are missing. Here is a simple case:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="r-basic-data-types.html#cb268-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="cn">NA</span>,<span class="dv">7</span>)</span></code></pre></div>
<p>The missing value question should evaluate to <code>FALSE TRUE FALSE</code>. There are two ways of looking for missing values that you might think should work, but do not. These involve treating <code>NA</code> as if it was a piece of text and using double equals (==) to test for it. So this does not work:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="r-basic-data-types.html#cb269-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">==</span> <span class="cn">NA</span></span></code></pre></div>
<pre><code>## [1] NA NA NA</code></pre>
<p>because it turns all the values into <code>NA</code> (definitively not what you intended). This does not work either:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="r-basic-data-types.html#cb271-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">==</span> <span class="st">&quot;NA&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE    NA FALSE</code></pre>
<p>It correctly reports that the numbers are not character strings, but it returns <code>NA</code> for the missing value itself, rather than <code>TRUE</code> as required. This is how you do it properly:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="r-basic-data-types.html#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(y)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<p>To produce a vector with the <code>NA</code> stripped out, use subscripts with the not <code>!</code> operator like this:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="r-basic-data-types.html#cb275-1" aria-hidden="true" tabindex="-1"></a>y[<span class="sc">!</span> <span class="fu">is.na</span>(y)]</span></code></pre></div>
<pre><code>## [1] 4 7</code></pre>
<p>Some functions do not work with their default settings when there are missing values in the data, and <code>mean</code> is a classic example of this:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="r-basic-data-types.html#cb277-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="cn">NA</span>)</span>
<span id="cb277-2"><a href="r-basic-data-types.html#cb277-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>In order to calculate the mean of the non-missing values, you need to specify that the NA are to be removed, using the <code>na.rm=TRUE</code> argument:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="r-basic-data-types.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> T)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-as-a-calculator.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-basic-data-structures.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/alejandrommingo/SMUCbook/blob/master/02-R.Rmd",
"text": null
},
"download": ["bookdownproj.pdf", "bookdownproj.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
